---
title: "Vignette Title"
author: "Vignette Author"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## Youbike

```{r}
library(DataTaipei)
library(ggmap)
library(dplyr)
rs <- dataSetMetadataSearch(q = "youbike")
# rs
rid <- getResources(rs, 1)
# rid
suppressWarnings(df <- resourceAquire(rid$resourceId[1]))

# plot
strsplit(rs$fieldDescription, "\r\n")
df2 <- mutate(df, lat = as.numeric(lat), lng = as.numeric(lng))
bdy_location <- select(df2, lng, lat) %>% apply(MARGIN = 2, range)
qmap(location = c(bdy_location[c(1, 3, 2, 4)]), zoom = 14,legend = "topleft") +
  geom_point(aes(x = lng, y = lat, size = bemp), colour = "blue",data = df2)
plot(g)
```